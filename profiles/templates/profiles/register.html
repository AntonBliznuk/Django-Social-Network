{% extends 'profiles/layout.html' %}
{% load static %}

{% block title %}Login{% endblock %}

{% block add_css %}
<link rel="stylesheet" href="{% static 'profiles/css/register_login.css' %}">
{% endblock %}

{% block content %}
<body>
    <div class="overlay">
        <main>
            <div class="login-container">
                <h2>Registration</h2>
                
                <!-- Общие ошибки формы -->
                {% if form.non_field_errors %}
                    <div class="alert alert-danger">
                        <ul>
                            {% for error in form.non_field_errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
                
                <form method="POST">
                    {% csrf_token %}
                    <!-- Выводим ошибки для каждого поля над ним -->
                    {% for field in form %}
                        <div class="form-group">
                            <!-- Ошибки для конкретного поля над ним -->
                            {% if field.errors %}
                                <div class="alert alert-danger">
                                    <ul>
                                        {% for error in field.errors %}
                                            <li>{{ error }}</li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            {% endif %}
                            
                            {{ field.label_tag }}
                            {{ field }}
                        </div>
                    {% endfor %}
                    <button type="submit" class="btn">Register</button>
                </form>
                <button class="btn" onclick="window.location.href='/profile/login/'">Login</button>
            </div>
        </main>
    </div>
</body>
</html>
{% endblock %}